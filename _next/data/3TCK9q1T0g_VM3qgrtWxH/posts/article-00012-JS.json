{"pageProps":{"post":{"title":"JavaScript/ES2015基礎学習①","date":"2022-12-22","slug":"article-00012-JS","content":"<h2 id=\"javascriptとは\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#javascriptとは\"><span class=\"icon icon-link\"></span></a>◆JavaScriptとは？</h2>\n<p>JavaScriptはWEBブラウザの中で動くプログラミング言語です。WEBサイトで操作をしたときに表示が書き換わったり、WEBサイトのサーバーと通信してデータを取得したりと現在のWEBサイトには欠かせないプログラミング言語です。このようなJavaScriptを活用してアプリケーションのように操作できるWEBサイトをWEBアプリとも言います。</p>\n<p>JavaScriptはWEBブラウザだけではなく、Node.jsというサーバー側のアプリケーションを作る仕組みでも利用されています。 また、デスクトップアプリやスマートフォンアプリ、IoT（Internet of Things）デバイスでもJavaScriptを使って動かせるものがあります。 このように、JavaScriptはかなり幅広い環境で動いているプログラミング言語で、さまざまな種類のアプリケーションを作成できます。</p>\n<h3 id=\"es2015とは\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#es2015とは\"><span class=\"icon icon-link\"></span></a>ES2015とは？</h3>\n<p>ES2015(ES6)は、ECMAScript 6th editionの6を取ってES6と呼ばれることもあります(正式名称はES2015)。<br>\nただし、どちらの名称でも問題はないです。エンジニアコミュニティではES6の名称の方が浸透しているらしい。</p>\n<h3 id=\"大文字と小文字を区別する\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#大文字と小文字を区別する\"><span class=\"icon icon-link\"></span></a>大文字と小文字を区別する</h3>\n<p>JavaScriptは大文字小文字を区別します。たとえば、次のようにnameという変数を大文字と小文字で書いた場合に、 それぞれは別々のnameとNAMEという名前の変数として認識されます。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// `name`という名前の変数を宣言</span>\n<span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"azu\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// `NAME`という名前の変数を宣言</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">NAME</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"azu\"</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>また、大文字で開始しなければならない訳ではありません。あくまで別々の名前として認識されるというだけになっています。</p>\n<h3 id=\"予約語を持つ\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#予約語を持つ\"><span class=\"icon icon-link\"></span></a>予約語を持つ</h3>\n<p>JavaScriptには特別な意味を持つキーワードのことを予約語と言います。 このキーワードと同じ名前の変数や関数は宣言できません。 先ほどの、変数を宣言するconstも予約語のひとつです。 そのためconstという名前の変数名は宣言できません。</p>\n<h3 id=\"文はセミコロンで区切られる\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#文はセミコロンで区切られる\"><span class=\"icon icon-link\"></span></a>文はセミコロンで区切られる</h3>\n<p>JavaScriptは、文（Statement）ごとに処理していき、文はセミコロン（;）によって区切られます。 特殊なルールに基づき、セミコロンがない文も、行末に自動でセミコロンが挿入されるという仕組みも持っています。1 しかし、暗黙的なものへ頼ると意図しない挙動が発生するため、セミコロンは常に書くようにします （詳細は「文と式」の章で解説します）。</p>\n<p>また、スペース、タブ文字などは空白文字（ホワイトスペース）と呼ばれます。 これらの空白文字を文にいくつ置いても挙動に違いはありません。</p>\n<p>たとえば、次の1足す1を行う2つの文は、+の前後の空白文字の個数に違いはありますが、動作としてはまったく同じ意味となります。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// 式や文の間にスペースがいくつあっても同じ意味となる</span>\n<span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">1</span>   <span class=\"token operator\">+</span>   <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h3 id=\"strict-mode\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#strict-mode\"><span class=\"icon icon-link\"></span></a>strict mode</h3>\n<p>JavaScriptにはstrict modeという実行モードが存在しています。 名前のとおり厳格な実行モードで、古く安全でない構文や機能が一部禁止されています。</p>\n<p>\"use strict\"という文字列をファイルまたは関数の先頭に書くことで、そのスコープにあるコードはstrict modeで実行されます。 また、後述する\"Module\"の実行コンテキストでは、このstrict modeがデフォルトとなっています。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// このコードはstrict modeで実行される</span>\n</code></pre>\n<p>strict modeでは、evalやwithといったレガシーな機能や構文を禁止します。 また、明らかな問題を含んだコードに対しては早期的に例外を投げることで、開発者が間違いに気づきやすくしてくれます。</p>\n<p>たとえば、次のようなconstなどのキーワードを含まずに変数を宣言しようとした場合に、strict modeでは例外が発生します。 strict modeでない場合は、例外が発生せずにグローバル変数が作られます。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\nmistypedVariable <span class=\"token operator\">=</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ReferenceError</span>\n\n</code></pre>\n<p>このように、strict modeでは開発者が安全にコードを書けるように、JavaScriptの落とし穴を一部ふさいでくれます。 そのため、常にstrict modeで実行できるコードを書くことが、より安全なコードにつながります。</p>\n<p>本書では、明示的に「strict modeではない」ことを宣言した場合を除き、 すべてstrict modeとして実行できるコードを扱います。</p>\n<h3 id=\"実行コンテキスト-scriptとmodule\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#実行コンテキスト-scriptとmodule\"><span class=\"icon icon-link\"></span></a>実行コンテキスト: ScriptとModule</h3>\n<p>JavaScriptの実行コンテキストとして\"Script\"と\"Module\"があります。 コードを書く場合には、この2つの実行コンテキストの違いを意識することは多くありません。</p>\n<p>\"Script\"の実行コンテキストは、多くの実行環境ではデフォルトの実行コンテキストです。 \"Script\"の実行コンテキストでは、デフォルトはstrict modeではありません。</p>\n<p>\"Module\"の実行コンテキストは、JavaScriptをモジュールとして実行するために、ECMAScript 2015で導入されたものです。 \"Module\"の実行コンテキストでは、デフォルトがstrict modeとなり、古く安全でない構文や機能は一部禁止されています。 また、モジュールの機能は\"Module\"の実行コンテキストでしか利用できません。モジュールについての詳細は「ECMAScriptモジュール」の章で解説します。</p>\n<h3 id=\"javascriptの仕様は毎年更新される\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#javascriptの仕様は毎年更新される\"><span class=\"icon icon-link\"></span></a>JavaScriptの仕様は毎年更新される</h3>\n<p>最後に、JavaScriptの仕様であるECMAScriptは毎年更新され、JavaScriptには新しい構文や機能が増え続けています。 そのため、この書籍で学んだ後もまだまだ知らなかったことが出てくるはずです。</p>\n<p>一方で、ECMAScriptは後方互換性が慎重に考慮されているため、過去に書いたJavaScriptのコードが動かなくなる変更はほとんど入りません。 そのため、この書籍で学んだことのすべてが無駄になることはありません。</p>\n<p>ECMAScriptの仕様がどのように策定されているかについては「ECMAScript」の章で解説します。</p>\n<h2 id=\"コメント\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#コメント\"><span class=\"icon icon-link\"></span></a>◆コメント</h2>\n<p>コメントはプログラムとして評価されないため、ソースコードの説明を書くために利用されています。 この書籍でも、JavaScriptのソースコードを解説するためにコメントを使っていきます。</p>\n<p>コメントの書き方には、一行コメントと複数行コメントの2種類があります。</p>\n<h3 id=\"一行コメント\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#一行コメント\"><span class=\"icon icon-link\"></span></a>一行コメント</h3>\n<p>一行コメントは名前のとおり、一行ずつコメントを書く際に利用します。 // 以降から行末までがコメントとして扱われるため、プログラムとして評価されません。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// 一行コメント</span>\n<span class=\"token comment\">// この部分はコードとして評価されない</span>\n</code></pre>\n<h3 id=\"複数行コメント\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#複数行コメント\"><span class=\"icon icon-link\"></span></a>複数行コメント</h3>\n<p>複数行コメントは名前のとおり、複数行のコメントを書く際に利用します。 一行コメントとは違い複数行をまとめて書けるので、長い説明を書く際に利用されています。</p>\n<p>/* と */で囲まれた範囲がコメントとして扱われるため、プログラムとして評価されません。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">/*\n   複数行コメント\n   囲まれている範囲がコードとして評価されない\n */</span>\n\n</code></pre>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">/* ネストされた /* 複数行コメント */</span> は書けない <span class=\"token operator\">*</span><span class=\"token operator\">/</span>\n</code></pre>\n<h3 id=\"html-likeコメント\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#html-likeコメント\"><span class=\"icon icon-link\"></span></a>HTML-likeコメント</h3>\n<p>ES2015から後方互換性のための仕様としてHTML-likeコメントが追加されました。 このHTML-likeコメントは、ブラウザの実装に合わせた後方互換性のための仕様として定義されています。HTML-likeコメントは名前のとおり、HTMLのコメントと同じ表記です。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token operator\">&#x3C;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> この行はコメントと認識される\n<span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"この行はJavaScriptのコードとして実行される\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">></span>  この行もコメントと認識される\n</code></pre>\n<p>ここでは、  がそれぞれ一行コメントとして認識されます。</p>\n<p>JavaScriptをサポートしていないブラウザでは、タグを正しく認識できないために書かれたコードが表示されていました。 それを避けるためにの中をHTMLコメントで囲み、表示はされないが実行されるという回避策が取られていました。 今はタグをサポートしていないブラウザはないため、この回避策は不要です。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>script</span> <span class=\"token attr-name\">language</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n&#x3C;!--\n  document.bgColor = \"brown\";\n// -->\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>script</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<p>一方、タグ内、つまりJavaScript内にHTMLコメントが書かれているサイトは残っています。 このようなサイトでもJavaScriptが動作するという、後方互換性のための仕様として追加されています。</p>\n<p>歴史的経緯は別として、ECMAScriptではこのように後方互換性が慎重に取り扱われます。 ECMAScriptは一度入った仕様が使えなくなることはほとんどないため、基本文法で覚えたことが使えなくなることはありません。 一方で、仕様が更新されるたびに新しい機能が増えるため、それを学び続けることには変わりありません。</p>\n<h2 id=\"変数と宣言\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#変数と宣言\"><span class=\"icon icon-link\"></span></a>◆変数と宣言</h2>\n<p>プログラミング言語には、文字列や数値などのデータに名前をつけて、繰り返し利用できるようにする変数という機能があります。JavaScriptには「これは変数です」という宣言をするキーワードとして、 const、let、varの3つがあります。</p>\n<p>varはもっとも古くからある変数宣言のキーワードですが、意図しない動作を作りやすい問題が知られています。 そのためECMAScript 2015で、varの問題を改善するためにconstとletという新しいキーワードが導入されました。</p>\n<p>この章ではconst、let、varの順に、それぞれの方法で宣言した変数の違いについて見ていきます。</p>\n<h3 id=\"es2015-const\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#es2015-const\"><span class=\"icon icon-link\"></span></a>[ES2015] const</h3>\n<p>constキーワードでは、再代入できない変数の宣言とその変数が参照する値（初期値）を定義できます。次のように、constキーワードに続いて変数名を書き、代入演算子（=）の右辺に変数の初期値を書いて変数を定義できます。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> 変数名 <span class=\"token operator\">=</span> 初期値<span class=\"token punctuation\">;</span>\n</code></pre>\n<p>次のコードではbookTitleという変数を宣言し、初期値が\"JavaScript Primer\"という文字列であることを定義しています。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> bookTitle <span class=\"token operator\">=</span> <span class=\"token string\">\"JavaScript Primer\"</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>const、let、varどのキーワードも共通の仕組みですが、変数同士を,（カンマ）で区切ることにより、同時に複数の変数を定義できます。</p>\n<p>次のコードでは、bookTitleとbookCategoryという変数を順番に定義しています。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> bookTitle <span class=\"token operator\">=</span> <span class=\"token string\">\"JavaScript Primer\"</span><span class=\"token punctuation\">,</span>\n      bookCategory <span class=\"token operator\">=</span> <span class=\"token string\">\"プログラミング\"</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>これは次のように書いた場合と同じ意味になります。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> bookTitle <span class=\"token operator\">=</span> <span class=\"token string\">\"JavaScript Primer\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> bookCategory <span class=\"token operator\">=</span> <span class=\"token string\">\"プログラミング\"</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>また、constは再代入できない変数を宣言するキーワードです。 そのため、constキーワードで宣言した変数に対して、後から値を代入することはできません。</p>\n<p>次のコードでは、constで宣言した変数bookTitleに対して値を再代入しているため、次のようなエラー（TypeError）が発生します。 エラーが発生するとそれ以降の処理は実行されなくなります。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> bookTitle <span class=\"token operator\">=</span> <span class=\"token string\">\"JavaScript Primer\"</span><span class=\"token punctuation\">;</span>\nbookTitle <span class=\"token operator\">=</span> <span class=\"token string\">\"新しいタイトル\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => TypeError: invalid assignment to const 'bookTitle'</span>\n</code></pre>\n<p>一般的に変数への再代入は「変数の値は最初に定義した値と常に同じである」という参照透過性と呼ばれるルールを壊すため、バグを発生させやすい要因として知られています。そのため、変数に対して値を再代入する必要がない場合は、constキーワードで変数宣言することを推奨しています。</p>\n<p>変数に値を再代入したいケースとして、ループなどの反復処理の途中で特定の変数が参照する値を変化させたい場合があります。 そのような場合には、変数への再代入が可能なletキーワードを利用します。</p>","ogImage":{"url":"/assets/blog/JavaScript/ES2015.png"},"coverImage":"/assets/blog/JavaScript/ES2015.png","tags":["JavaScript/","ES2015"]}},"__N_SSG":true}