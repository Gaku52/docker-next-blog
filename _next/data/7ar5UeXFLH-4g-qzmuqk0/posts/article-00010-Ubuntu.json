{"pageProps":{"post":{"title":"Ubuntuのデフォルトuserをrootから変更する","date":"2022-11-01","slug":"article-00010-Ubuntu","content":"<h2 id=\"概要\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#概要\"><span class=\"icon icon-link\"></span></a>概要</h2>\n<p>WindowsでWSL2を導入した(Ubuntu22.04 LTS)とき、初期設定ではWindowsターミナルからUbuntuを毎回起動する度に\r\nrootユーザーでされてしまう。rootは管理者権限のあるユーザーであるためセキュリティ上あまり使いたくない。</p>\n<p>そこで新規ユーザーを作成した後に、デフォルトユーザー(ターミナル起動時のユーザー)を変更するのが一般的である。</p>\n<p>今回は、解決方法の1つである「Powershellからのコマンド入力」を方法を記載しておきます。</p>\n<h2 id=\"解決方法\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#解決方法\"><span class=\"icon icon-link\"></span></a>解決方法</h2>\n<p>全体的な流れ</p>\n<p>1.Windows PowerShell（Ubuntu以外のシェル）を実行する。<br>\n2.以下のコマンドラインをバージョンに合わせて入力する。(※注意点：ubuntu2204はバージョンによって変わる。)<br>\n3.ターミナルでUbuntuを起動すると、設定した＜ユーザー名＞での起動が確認される。</p>\n<p>Windows PowerShellを実行後、以下コマンド</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\">ubuntu2204 config <span class=\"token operator\">--</span><span class=\"token keyword module\">default</span><span class=\"token operator\">-</span>user <span class=\"token operator\">&#x3C;</span>ユーザー名<span class=\"token operator\">></span>\n</code></pre>\n<h3 id=\"エラー調査\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#エラー調査\"><span class=\"icon icon-link\"></span></a>エラー調査</h3>\n<p>注意点として私が誤ってしまった点として、Ubuntuを開いて上記コマンドを入力しても<br>\n以下のように表示されます。</p>\n<p>下記エラーの意味は「指定されたコマンドが見つからない。」という意味です。<br>\n今回は、「Windowsターミナル」でUbuntuを開いたときのデフォルトユーザー設定ですので<br>\nWindows側のシェルからコマンド入力する必要がある。ということでしょう。</p>\n<pre class=\"language-tsx\"><code class=\"language-tsx\">ubuntu2204<span class=\"token operator\">:</span> command not found\n</code></pre>\n<p>Windows PowerShell（もしくは他のシェル）でコマンド入力をすると設定が完了されます。</p>\n<h3 id=\"参考サイト様\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#参考サイト様\"><span class=\"icon icon-link\"></span></a>参考サイト様</h3>\n<p><a href=\"https://creepfablic.site/2022/06/28/wsl2-default-login-user-change/\">解説サイト様①「WSL2のデフォルトログインユーザーをrootから変更したい」</a><br>\n<a href=\"https://onl.la/WHcR1yd\">解説サイト様②「WSL2のUbuntuのデフォルトユーザーを変更する」</a><br>\n<a href=\"https://devlights.hatenablog.com/entry/2021/05/29/070000\">解説サイト様③「WSL で デフォルトユーザ を変更する方法」</a></p>","ogImage":{"url":"/assets/blog/Ubuntu/Ubuntu.png"},"coverImage":"/assets/blog/Ubuntu/Ubuntu.png","tags":["Ubuntu","Linux","WSL2"]}},"__N_SSG":true}