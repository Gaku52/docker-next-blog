{"pageProps":{"post":{"title":"WSL2でNext.jsプロジェクトの変更時にHOT Reloadが遅いときの解決法","date":"2022-11-02","slug":"article-00011-Ubuntu","content":"<h2 id=\"概要\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#概要\"><span class=\"icon icon-link\"></span></a>概要</h2>\n<p>WSL2＋Dockerの実行環境でNext.jsプロジェクトを実行環境としたとき、変更時にリアルタイム更新(HOT Reload)が遅い現象が起こりました。</p>\n<p>実際どれくらい遅いというと、ローカル開発と比べて3~5秒遅いと思われます。(体感)</p>\n<p>せっかくDockerの環境で開発したいと思っても、これではローカルの方がいいかな...となってしまいます。</p>\n<p>そこで、今回は状況分析から解決策実施まで行いました。</p>\n<h2 id=\"状況と原因\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#状況と原因\"><span class=\"icon icon-link\"></span></a>状況と原因</h2>\n<p>状況としてWLS2のmnt/cからWindows上のディレクトリへアクセスしていたのですが、それが原因のようです。</p>\n<p>データ更新の際、毎回Windowsへアクセスしているため時間がかかっているとのこと。</p>\n<h2 id=\"解決方法\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#解決方法\"><span class=\"icon icon-link\"></span></a>解決方法</h2>\n<p>コマンド操作でディレクトリを、WSL2のhomeディレクトリ上へコピーする。<br>\nUbuntu側で直接WEBアプリ開発環境を構築することもでき、HOT Reload速度も向上します。</p>\n<h3 id=\"参考サイト様\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#参考サイト様\"><span class=\"icon icon-link\"></span></a>参考サイト様</h3>\n<p><a href=\"https://blog.kapiecii.com/posts/2022/07/24/docker-and-nextjs/\">解説サイト様①「DockerでNext.jsの開発環境を作ったがローカルで開発することにした」</a><br>\n<a href=\"https://onl.la/Dwj9qFg\">解説サイト様②「(続き)Windows+WSL2でReactの開発環境を作った」</a></p>","ogImage":{"url":"/assets/blog/Ubuntu/Ubuntu.png"},"coverImage":"/assets/blog/Ubuntu/Ubuntu.png","tags":["Ubuntu","Linux","WSL2"]}},"__N_SSG":true}